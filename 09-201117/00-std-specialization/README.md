Старая тонкость: на самом деле с C++20 делать специализацию для `std::swap` (или вообще любой фунции из `std`) — UB.

Определяйте свои `swap` рядом со структурой и везде пишите так:

```
{
    using std::swap;
    swap(a, b);
}
```
