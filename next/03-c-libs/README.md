# Сишные библиотеки
Сложность идёт из предметной области!

Пример: https://curl.se/

## Установка
Обычно ставится проще, чем плюсовая библиотека.
Если есть пакетный менеджер: через него (`apt`, `pacman`, NuGet).
Либо собрать из исходников.

## Как использовать
Пример: https://curl.se/libcurl/c/url2file.html

* нет namespace, вместо этого добавляют префикс вроде `curl_`
* нет перегрузок, вместо этого либо называют функции по-разному, либо принимают по `void*`, либо небезопасный varargs (`curl_easy_setopt`)
* могут быть `global_init`/`global_cleanup`
* обычно возвращают указатели на непрозрачные объекты, с которыми можно работать только через функции (`CURL*`)
* обработка ошибок: либо глобальная переменная `errno`, либо спросить статус у объекта, либо код возврата у функции
* если callback, то обычно есть произвольный `void*` параметр
  * Полезно: конвертация лямбд, приватные static-методы.
  * Осторожно: исключения нельзя бросать через границу

## Как заворачивать
Показать пример применения.

Термин RAII: resource acquisition is initialization.
Конструктор должен полностью проинициализировать класс и убедиться во всех инвариантах.
А если не смог — кидаем исключение.

У нас есть функция.
У неё есть предусловие и постусловие.
Функция завершилась успешно - выполнено постусловие.
Вылетело исключение - постусловие выполнить не удалось.

Конструктор, постусловие: объект успешно создан.
Деструктор, предусловие: объект успешно создан.
Деструктор, постусловие: объект успешно удалён. Это не может сфейлиться.
